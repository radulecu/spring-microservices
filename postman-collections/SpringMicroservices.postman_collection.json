{
	"info": {
		"_postman_id": "6a6fe3d9-3ddd-4ff2-9a3a-9290c0afbc11",
		"name": "SpringMicroservices",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Auth Service",
			"item": [
				{
					"name": "OauthCert",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "76121ed6-9abb-42c5-8d48-e14eb729731e",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Your test name\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.access_token).to.be.a('string');",
									"});",
									"",
									"pm.test(\"Your test name\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.token_type).to.eql('bearer');",
									"});",
									"",
									"pm.test(\"Your test name\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.refresh_token).to.be.a('string');",
									"});",
									"",
									"pm.test(\"Your test name\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.scope).to.eql('openid');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "acmesecret",
									"type": "string"
								},
								{
									"key": "username",
									"value": "acme",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{server.protocol}}://{{server.host}}:9999/sso/oauth/token?password={{password}}&username={{user}}&grant_type=password&scope=openid&client_secret=acmesecret&client_id=acme",
							"protocol": "{{server.protocol}}",
							"host": [
								"{{server.host}}"
							],
							"port": "9999",
							"path": [
								"sso",
								"oauth",
								"token"
							],
							"query": [
								{
									"key": "password",
									"value": "{{password}}"
								},
								{
									"key": "username",
									"value": "{{user}}"
								},
								{
									"key": "grant_type",
									"value": "password"
								},
								{
									"key": "scope",
									"value": "openid"
								},
								{
									"key": "client_secret",
									"value": "acmesecret"
								},
								{
									"key": "client_id",
									"value": "acme"
								}
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Bookmark Service",
			"item": [
				{
					"name": "PostBookmark",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "6e414a0f-196d-499d-80a3-53af1e650fe6",
								"exec": [
									"postman.setNextRequest('GetBookmark')",
									"",
									"if (pm.response.code==200){",
									"    var jsonData = pm.response.json();",
									"    postman.setEnvironmentVariable('bookmarkId',jsonData.id);",
									"}",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"description is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.description).is.a('string');",
									"});",
									"",
									"pm.test(\"href is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.href).is.a('string');",
									"});",
									"",
									"pm.test(\"label is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.label).is.a('string');",
									"});",
									"",
									"pm.test(\"id is a Number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.id).is.a('Number');",
									"});",
									"",
									"pm.test(\"userId is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.userId).is.a('string');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"href\": \"http://some-other-host-for-dexter.com\",\r\n    \"description\": \"A description for dexter's link\",\r\n    \"label\": \"dexterLabel\"\r\n}"
						},
						"url": {
							"raw": "{{server.protocol}}://{{server.host}}:9025/bookmark-service/v1/users/{{userId}}/bookmarks",
							"protocol": "{{server.protocol}}",
							"host": [
								"{{server.host}}"
							],
							"port": "9025",
							"path": [
								"bookmark-service",
								"v1",
								"users",
								"{{userId}}",
								"bookmarks"
							]
						}
					},
					"response": []
				},
				{
					"name": "GetBookmark",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "af02d6b3-e914-4e6e-b33c-5fac43c991e2",
								"exec": [
									"postman.setNextRequest('PutBookmark')",
									"",
									"if (pm.response.code==200){",
									"    var jsonData = pm.response.json();",
									"    postman.setEnvironmentVariable('bookmarkId',jsonData.id);",
									"}",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"href is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.href).is.a('string');",
									"});",
									"",
									"pm.test(\"description is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.description).is.a('string');",
									"});",
									"",
									"pm.test(\"label is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.label).is.a('string');",
									"});",
									"",
									"pm.test(\"id is a Number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.id).is.a('Number');",
									"});",
									"",
									"pm.test(\"userId is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.userId).is.a('string');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{server.protocol}}://{{server.host}}:9025/bookmark-service/v1/users/{{userId}}/bookmarks/{{bookmarkId}}",
							"protocol": "{{server.protocol}}",
							"host": [
								"{{server.host}}"
							],
							"port": "9025",
							"path": [
								"bookmark-service",
								"v1",
								"users",
								"{{userId}}",
								"bookmarks",
								"{{bookmarkId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "PutBookmark",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "92643680-061e-4db0-8284-f26075ce2683",
								"exec": [
									"postman.setNextRequest('GetBookmarks')",
									"",
									"if (pm.response.code==200){",
									"    var jsonData = pm.response.json();",
									"    postman.setEnvironmentVariable('bookmarkId',jsonData.id);",
									"}",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"href is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.href).is.a('string');",
									"});",
									"",
									"pm.test(\"description is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.description).is.a('string');",
									"});",
									"",
									"pm.test(\"label is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.label).is.a('string');",
									"});",
									"",
									"pm.test(\"id is a Number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.id).is.a('Number');",
									"});",
									"",
									"pm.test(\"userId is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.userId).is.a('string');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"href\": \"http://some-other-host-for-dexter2.com\",\r\n    \"description\": \"A description for dexter's link2\",\r\n    \"label\": \"dexterLabel2\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{server.protocol}}://{{server.host}}:9025/bookmark-service/v1/users/{{userId}}/bookmarks/{{bookmarkId}}",
							"protocol": "{{server.protocol}}",
							"host": [
								"{{server.host}}"
							],
							"port": "9025",
							"path": [
								"bookmark-service",
								"v1",
								"users",
								"{{userId}}",
								"bookmarks",
								"{{bookmarkId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "GetBookmarks",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7259714a-4f4b-4ef6-a10a-d1e421430be7",
								"exec": [
									"postman.setNextRequest('DelBookmark')",
									"",
									"if (pm.response.code==200){",
									"    var jsonData = pm.response.json();",
									"    postman.setEnvironmentVariable('bookmarkId',jsonData[0].id);",
									"}",
									"    ",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"href is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].href).is.a('string');",
									"});",
									"",
									"pm.test(\"description is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].description).is.a('string');",
									"});",
									"",
									"pm.test(\"label is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].label).is.a('string');",
									"});",
									"",
									"pm.test(\"id is a Number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].id).is.a('Number');",
									"});",
									"",
									"pm.test(\"userId is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].userId).is.a('string');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{server.protocol}}://{{server.host}}:9025/bookmark-service/v1/users/dexter/bookmarks",
							"protocol": "{{server.protocol}}",
							"host": [
								"{{server.host}}"
							],
							"port": "9025",
							"path": [
								"bookmark-service",
								"v1",
								"users",
								"dexter",
								"bookmarks"
							]
						}
					},
					"response": []
				},
				{
					"name": "DelBookmark",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7748d8d4-72fe-4f88-8bfa-dddee9134fdd",
								"exec": [
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"href\": \"http://some-other-host-for-dexter.com\",\r\n    \"description\": \"A description for dexter's link\",\r\n    \"label\": \"dexterLabel\",\r\n}"
						},
						"url": {
							"raw": "{{server.protocol}}://{{server.host}}:9025/bookmark-service/v1/users/{{userId}}/bookmarks/{{bookmarkId}}",
							"protocol": "{{server.protocol}}",
							"host": [
								"{{server.host}}"
							],
							"port": "9025",
							"path": [
								"bookmark-service",
								"v1",
								"users",
								"{{userId}}",
								"bookmarks",
								"{{bookmarkId}}"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "40f8b690-7099-4d44-a72e-7a16f66e812e",
						"type": "text/javascript",
						"exec": [
							"pm.environment.set(\"userId\",\"dexter\");",
							"",
							"pm.sendRequest({",
							"    url: \"https://localhost:9999/sso/oauth/token?password=spring&username=jlong&grant_type=password&scope=openid&client_secret=acmesecret&client_id=acme\",",
							"    method: \"POST\",",
							"    header: {",
							"        'Authorization': \"Basic YWNtZTphY21lc2VjcmV0\"",
							"    },",
							"    request: {",
							"        \"href\": \"http://some-other-host-for-dexter.com\",",
							"        \"description\": \"A description for dexter's link\",",
							"        \"label\": \"dexterLabel\"",
							"    }",
							"}, function (err, res){",
							"    pm.environment.set('access_token',res.json().access_token)",
							"});",
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "23d3b878-d2a2-40a8-969a-457dea3b097f",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Contact Service",
			"item": [
				{
					"name": "PostContact",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7640cc07-0e9a-459d-8cfd-8fdcfe8f0dff",
								"exec": [
									"postman.setNextRequest('GetContact')",
									"",
									"if (pm.response.code==200){",
									"    var jsonData = pm.response.json();",
									"    postman.setEnvironmentVariable('bookmarkId',jsonData.id);",
									"}",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"firstName is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.firstName).is.a('string');",
									"});",
									"",
									"pm.test(\"lastName is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.lastName).is.a('string');",
									"});",
									"",
									"pm.test(\"email matches '.+@.+\\..+'\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.email).to.match(/^.+@.+\\..+$/);",
									"});",
									"",
									"pm.test(\"relationship is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.relationship).is.a('string');",
									"});",
									"",
									"pm.test(\"id is a Number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.id).is.a('Number');",
									"});",
									"",
									"pm.test(\"userId is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.userId).is.a('string');",
									"});",
									"",
									"pm.test(\"phoneNumbers.id is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.phoneNumbers[0].id).is.a('Number');",
									"    pm.expect(jsonData.phoneNumbers[1].id).is.a('Number');",
									"});",
									"",
									"pm.test(\"phoneNumbers.number is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.phoneNumbers[0].number).is.a('string');",
									"    pm.expect(jsonData.phoneNumbers[1].number).is.a('string');",
									"});",
									"",
									"pm.test(\"phoneNumbers.description is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.phoneNumbers[0].description).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.id is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].id).is.a('Number');",
									"    pm.expect(jsonData.addresses[1].id).is.a('Number');",
									"});",
									"",
									"pm.test(\"addresses.country is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].country).is.a('string');",
									"    pm.expect(jsonData.addresses[1].country).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.town is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].town).is.a('string');",
									"    pm.expect(jsonData.addresses[1].town).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.street is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].street).is.a('string');",
									"    pm.expect(jsonData.addresses[1].street).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.number is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].number).is.a('Number');",
									"    pm.expect(jsonData.addresses[1].number).is.a('Number');",
									"});",
									"",
									"pm.test(\"addresses.entrance is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].entrance).is.a('Number');",
									"});",
									"",
									"pm.test(\"addresses.flatNumber is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].flatNumber).is.a('Number');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"firstName\": \"Stéphane\",\n    \"lastName\": \"Maldini\",\n    \"email\": \"stéphane@email.com\",\n    \"relationship\": \"coleague\",\n\t\"phoneNumbers\": [\n\t\t{\n\t\t  \"number\": \"+40723123456\",\n\t\t  \"description\": \"phone number description Stéphane Maldini\"\n\t\t},\n\t\t{\n\t\t  \"number\": \"+40723123457\",\n\t\t  \"description\": null\n\t\t}\n\t],\n\t\"addresses\": [\n\t\t{\n\t\t\t\"id\": 32,\n\t\t\t\"country\": \"Stéphane country\",\n\t\t\t\"town\": \"Stéphane address\",\n\t\t\t\"street\": \"Stéphane street\",\n\t\t\t\"number\": 84,\n\t\t\t\"entrance\": 3,\n\t\t\t\"flatNumber\": 123\n\t\t},\n\t\t{\n\t\t\t\"id\": 33,\n\t\t\t\"country\": \"Stéphane country2\",\n\t\t\t\"town\": \"Stéphane address2\",\n\t\t\t\"street\": \"Stéphane street2\",\n\t\t\t\"number\": 94,\n\t\t\t\"entrance\": null,\n\t\t\t\"flatNumber\": null\n\t\t}\n\t]\n}"
						},
						"url": {
							"raw": "{{server.protocol}}://{{server.host}}:9025/contact-service/v1/users/{{userId}}/contacts",
							"protocol": "{{server.protocol}}",
							"host": [
								"{{server.host}}"
							],
							"port": "9025",
							"path": [
								"contact-service",
								"v1",
								"users",
								"{{userId}}",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "GetContact",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ddc566b5-8e85-4bc4-9d05-8203e5e10cb8",
								"exec": [
									"postman.setNextRequest('PutContact')",
									"",
									"if (pm.response.code==200){",
									"    var jsonData = pm.response.json();",
									"    postman.setEnvironmentVariable('bookmarkId',jsonData.id);",
									"}",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"firstName is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.firstName).is.a('string');",
									"});",
									"",
									"pm.test(\"lastName is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.lastName).is.a('string');",
									"});",
									"",
									"pm.test(\"email matches '.+@.+\\..+'\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.email).to.match(/^.+@.+\\..+$/);",
									"});",
									"",
									"pm.test(\"relationship is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.relationship).is.a('string');",
									"});",
									"",
									"pm.test(\"id is a Number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.id).is.a('Number');",
									"});",
									"",
									"pm.test(\"userId is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.userId).is.a('string');",
									"});",
									"",
									"pm.test(\"phoneNumbers.id is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.phoneNumbers[0].id).is.a('Number');",
									"    pm.expect(jsonData.phoneNumbers[1].id).is.a('Number');",
									"});",
									"",
									"pm.test(\"phoneNumbers.number is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.phoneNumbers[0].number).is.a('string');",
									"    pm.expect(jsonData.phoneNumbers[1].number).is.a('string');",
									"});",
									"",
									"pm.test(\"phoneNumbers.description is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.phoneNumbers[0].description).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.id is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].id).is.a('Number');",
									"    pm.expect(jsonData.addresses[1].id).is.a('Number');",
									"});",
									"",
									"pm.test(\"addresses.country is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].country).is.a('string');",
									"    pm.expect(jsonData.addresses[1].country).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.town is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].town).is.a('string');",
									"    pm.expect(jsonData.addresses[1].town).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.street is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].street).is.a('string');",
									"    pm.expect(jsonData.addresses[1].street).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.number is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].number).is.a('Number');",
									"    pm.expect(jsonData.addresses[1].number).is.a('Number');",
									"});",
									"",
									"pm.test(\"addresses.entrance is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].entrance).is.a('Number');",
									"});",
									"",
									"pm.test(\"addresses.flatNumber is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].flatNumber).is.a('Number');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{server.protocol}}://{{server.host}}:9025/contact-service/v1/users/{{userId}}/contacts/{{bookmarkId}}",
							"protocol": "{{server.protocol}}",
							"host": [
								"{{server.host}}"
							],
							"port": "9025",
							"path": [
								"contact-service",
								"v1",
								"users",
								"{{userId}}",
								"contacts",
								"{{bookmarkId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "PutContact",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "fb566bf3-656d-459c-95ec-b2b597fa48a2",
								"exec": [
									"postman.setNextRequest('GetContacts')",
									"",
									"if (pm.response.code==200){",
									"    var jsonData = pm.response.json();",
									"    postman.setEnvironmentVariable('bookmarkId',jsonData.id);",
									"}",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"firstName is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.firstName).is.a('string');",
									"});",
									"",
									"pm.test(\"lastName is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.lastName).is.a('string');",
									"});",
									"",
									"pm.test(\"email matches '.+@.+\\..+'\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.email).to.match(/^.+@.+\\..+$/);",
									"});",
									"",
									"pm.test(\"relationship is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.relationship).is.a('string');",
									"});",
									"",
									"pm.test(\"id is a Number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.id).is.a('Number');",
									"});",
									"",
									"pm.test(\"userId is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.userId).is.a('string');",
									"});",
									"",
									"pm.test(\"phoneNumbers.id is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.phoneNumbers[0].id).is.a('Number');",
									"    pm.expect(jsonData.phoneNumbers[1].id).is.a('Number');",
									"});",
									"",
									"pm.test(\"phoneNumbers.number is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.phoneNumbers[0].number).is.a('string');",
									"    pm.expect(jsonData.phoneNumbers[1].number).is.a('string');",
									"});",
									"",
									"pm.test(\"phoneNumbers.description is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.phoneNumbers[0].description).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.id is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].id).is.a('Number');",
									"    pm.expect(jsonData.addresses[1].id).is.a('Number');",
									"});",
									"",
									"pm.test(\"addresses.country is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].country).is.a('string');",
									"    pm.expect(jsonData.addresses[1].country).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.town is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].town).is.a('string');",
									"    pm.expect(jsonData.addresses[1].town).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.street is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].street).is.a('string');",
									"    pm.expect(jsonData.addresses[1].street).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.number is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].number).is.a('Number');",
									"    pm.expect(jsonData.addresses[1].number).is.a('Number');",
									"});",
									"",
									"pm.test(\"addresses.entrance is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].entrance).is.a('Number');",
									"});",
									"",
									"pm.test(\"addresses.flatNumber is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].flatNumber).is.a('Number');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"firstName\": \"Stéphane2\",\r\n    \"lastName\": \"Maldini2\",\r\n    \"email\": \"stephane@email.com\",\r\n    \"relationship\": \"friend\",\r\n\t\"phoneNumbers\": [\r\n\t\t{\r\n\t\t  \"number\": \"+40723123456\",\r\n\t\t  \"description\": \"phone number description 2 Stéphane Maldini\"\r\n\t\t},\r\n\t\t{\r\n\t\t  \"number\": \"+40723123457\",\r\n\t\t  \"description\": null\r\n\t\t}\r\n\t],\r\n\t\"addresses\": [\r\n\t\t{\r\n\t\t\t\"id\": 32,\r\n\t\t\t\"country\": \"Stéphane country\",\r\n\t\t\t\"town\": \"Stéphane address\",\r\n\t\t\t\"street\": \"Stéphane street\",\r\n\t\t\t\"number\": 84,\r\n\t\t\t\"entrance\": 2,\r\n\t\t\t\"flatNumber\": 45\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"id\": 33,\r\n\t\t\t\"country\": \"Stéphane country2\",\r\n\t\t\t\"town\": \"Stéphane address2\",\r\n\t\t\t\"street\": \"Stéphane street2\",\r\n\t\t\t\"number\": 94,\r\n\t\t\t\"entrance\": null,\r\n\t\t\t\"flatNumber\": null\r\n\t\t}\r\n\t]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{server.protocol}}://{{server.host}}:9025/contact-service/v1/users/{{userId}}/contacts/{{bookmarkId}}",
							"protocol": "{{server.protocol}}",
							"host": [
								"{{server.host}}"
							],
							"port": "9025",
							"path": [
								"contact-service",
								"v1",
								"users",
								"{{userId}}",
								"contacts",
								"{{bookmarkId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "GetContacts",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1e39dd30-68ec-4074-8bdb-5bda11e4431f",
								"exec": [
									"postman.setNextRequest('DelContact')",
									"",
									"if (pm.response.code==200){",
									"    var jsonData = pm.response.json();",
									"    postman.setEnvironmentVariable('bookmarkId',jsonData[0].id);",
									"}",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"firstName is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].firstName).is.a('string');",
									"});",
									"",
									"pm.test(\"lastName is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].lastName).is.a('string');",
									"});",
									"",
									"pm.test(\"email matches '.+@.+\\..+'\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].email).to.match(/^.+@.+\\..+$/);",
									"});",
									"",
									"pm.test(\"relationship is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].relationship).is.a('string');",
									"});",
									"",
									"pm.test(\"id is a Number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].id).is.a('Number');",
									"});",
									"",
									"pm.test(\"userId is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].userId).is.a('string');",
									"});",
									"",
									"pm.test(\"phoneNumbers.id is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].phoneNumbers[0].id).is.a('Number');",
									"    pm.expect(jsonData[0].phoneNumbers[1].id).is.a('Number');",
									"});",
									"",
									"pm.test(\"phoneNumbers.number is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].phoneNumbers[0].number).is.a('string');",
									"    pm.expect(jsonData[0].phoneNumbers[1].number).is.a('string');",
									"});",
									"",
									"pm.test(\"phoneNumbers.description is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].phoneNumbers[0].description).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.id is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].addresses[0].id).is.a('Number');",
									"    pm.expect(jsonData[0].addresses[1].id).is.a('Number');",
									"});",
									"",
									"pm.test(\"addresses.country is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].addresses[0].country).is.a('string');",
									"    pm.expect(jsonData[0].addresses[1].country).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.town is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].addresses[0].town).is.a('string');",
									"    pm.expect(jsonData[0].addresses[1].town).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.street is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].addresses[0].street).is.a('string');",
									"    pm.expect(jsonData[0].addresses[1].street).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.number is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].addresses[0].number).is.a('Number');",
									"    pm.expect(jsonData[0].addresses[1].number).is.a('Number');",
									"});",
									"",
									"pm.test(\"addresses.entrance is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].addresses[0].entrance).is.a('Number');",
									"});",
									"",
									"pm.test(\"addresses.flatNumber is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].addresses[0].flatNumber).is.a('Number');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{server.protocol}}://{{server.host}}:9025/contact-service/v1/users/{{userId}}/contacts",
							"protocol": "{{server.protocol}}",
							"host": [
								"{{server.host}}"
							],
							"port": "9025",
							"path": [
								"contact-service",
								"v1",
								"users",
								"{{userId}}",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "DelContact",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "bf4e9de3-cdcd-4103-8cc1-a3843e5a7cb8",
								"exec": [
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"href\": \"http://some-other-host-for-dexter.com\",\r\n    \"description\": \"A description for dexter's link\",\r\n    \"label\": \"dexterLabel\",\r\n}"
						},
						"url": {
							"raw": "{{server.protocol}}://{{server.host}}:9025/contact-service/v1/users/{{userId}}/contacts/{{bookmarkId}}",
							"protocol": "{{server.protocol}}",
							"host": [
								"{{server.host}}"
							],
							"port": "9025",
							"path": [
								"contact-service",
								"v1",
								"users",
								"{{userId}}",
								"contacts",
								"{{bookmarkId}}"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "97565b82-c40a-4f03-9a78-bb778880cb89",
						"type": "text/javascript",
						"exec": [
							"pm.environment.set(\"userId\",\"dexter\");",
							"",
							"pm.sendRequest({",
							"    url: \"https://localhost:9999/sso/oauth/token?password=spring&username=jlong&grant_type=password&scope=openid&client_secret=acmesecret&client_id=acme\",",
							"    method: \"POST\",",
							"    header: {",
							"        'Authorization': \"Basic YWNtZTphY21lc2VjcmV0\"",
							"    },",
							"    request: {",
							"        \"href\": \"http://some-other-host-for-dexter.com\",",
							"        \"description\": \"A description for dexter's link\",",
							"        \"label\": \"dexterLabel\"",
							"    }",
							"}, function (err, res){",
							"    pm.environment.set('access_token',res.json().access_token)",
							"});",
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "be4485b3-e709-4a92-b0af-29274d9451a9",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Passport Service",
			"item": [
				{
					"name": "GetPassports",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1cf4b2e5-a6a6-4771-afb1-e98e778707a9",
								"exec": [
									"if (pm.response.code==200){",
									"    var jsonData = pm.response.json();",
									"    postman.setEnvironmentVariable('bookmarkId',jsonData.id);",
									"    postman.setEnvironmentVariable('userId','dexter');",
									"}",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"href is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.bookmarks[0].href).is.a('string');",
									"});",
									"",
									"pm.test(\"label is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.bookmarks[0].label).is.a('string');",
									"});",
									"",
									"pm.test(\"id is a Number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.bookmarks[0].id).is.a('Number');",
									"});",
									"",
									"pm.test(\"userId is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.bookmarks[0].userId).is.a('string');",
									"});",
									"",
									"pm.test(\"firstName is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.contacts[0].firstName).is.a('string');",
									"});",
									"",
									"pm.test(\"lastName is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.contacts[0].lastName).is.a('string');",
									"});",
									"",
									"pm.test(\"email matches '.+@.+\\..+'\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.contacts[0].email).to.match(/^.+@.+\\..+$/);",
									"});",
									"",
									"pm.test(\"relationship is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.contacts[0].relationship).is.a('string');",
									"});",
									"",
									"pm.test(\"id is a Number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.contacts[0].id).is.a('Number');",
									"});",
									"",
									"pm.test(\"userId is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.contacts[0].userId).is.a('string');",
									"});",
									"",
									"",
									"if (pm.response.code==200){",
									"    var jsonData = pm.response.json();",
									"",
									"    pm.sendRequest({",
									"        url: \"https://localhost:9999/sso/oauth/token?password=spring&username=jlong&grant_type=password&scope=openid&client_secret=acmesecret&client_id=acme\",",
									"        method: \"POST\",",
									"        header: {",
									"            'Authorization': \"Basic YWNtZTphY21lc2VjcmV0\"",
									"        },",
									"        request: {",
									"            \"href\": \"http://some-other-host-for-dexter.com\",",
									"            \"description\": \"A description for dexter's link\",",
									"            \"label\": \"dexterLabel\"",
									"        }",
									"    }, function (err, res){",
									"        jsonData.bookmarks.forEach(function (value){",
									"            pm.sendRequest({",
									"                url: \"https://localhost:9025/bookmark-service/v1/users/\"+pm.environment.get('userId')+\"/bookmarks/\"+value.id,",
									"                method: \"DELETE\",",
									"                header: {",
									"                    'Authorization': \"Bearer \"+res.json().access_token,",
									"                    'Content-Type': 'application/json'",
									"                },",
									"                request: {",
									"                    \"href\": \"http://some-other-host-for-dexter.com\",",
									"                    \"description\": \"A description for dexter's link\",",
									"                    \"label\": \"dexterLabel\"",
									"                }",
									"            });",
									"        });",
									"        jsonData.contacts.forEach(function (value){",
									"            pm.sendRequest({",
									"                url: \"https://localhost:9025/contact-service/v1/users/\"+pm.environment.get('userId')+\"/contacts/\"+value.id,",
									"                method: \"DELETE\",",
									"                header: {",
									"                    'Authorization': \"Bearer \"+res.json().access_token,",
									"                    'Content-Type': 'application/json',",
									"                },",
									"                request: {",
									"                    \"href\": \"http://some-other-host-for-dexter.com\",",
									"                    \"description\": \"A description for dexter's link\"",
									"                }",
									"            });",
									"        });",
									"    });",
									"}",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "ef1b4946-0711-4b09-abd4-79f9389e12d7",
								"exec": [
									"pm.environment.set(\"userId\",\"dexter\");",
									"",
									"pm.sendRequest({",
									"    url: \"https://localhost:9999/sso/oauth/token?password=spring&username=jlong&grant_type=password&scope=openid&client_secret=acmesecret&client_id=acme\",",
									"    method: \"POST\",",
									"    header: {",
									"        'Authorization': \"Basic YWNtZTphY21lc2VjcmV0\"",
									"    },",
									"    request: {",
									"        \"href\": \"http://some-other-host-for-dexter.com\",",
									"        \"description\": \"A description for dexter's link\",",
									"        \"label\": \"dexterLabel\"",
									"    }",
									"}, function (err, res){",
									"    pm.sendRequest({",
									"        url: \"https://localhost:9025/bookmark-service/v1/users/\"+pm.environment.get('userId')+\"/bookmarks\",",
									"        method: \"POST\",",
									"        header: {",
									"            'Authorization': \"Bearer \"+res.json().access_token,",
									"            'Content-Type': 'application/json'",
									"        },",
									"        body: {",
									"            mode: 'jow',",
									"            raw: JSON.stringify({",
									"                        \"href\": \"http://some-other-host-for-dexter.com\",",
									"                        \"description\": \"A description for dexter's link\",",
									"                        \"label\": \"dexterLabel\",",
									"                        \"id\": 34,",
									"                        \"userId\": \"dexter\"",
									"                    })",
									"        },",
									"        request: {",
									"            \"href\": \"http://some-other-host-for-dexter.com\",",
									"            \"description\": \"A description for dexter's link\",",
									"            \"label\": \"dexterLabel\"",
									"        }",
									"    });",
									"    pm.sendRequest({",
									"        url: \"https://localhost:9025/contact-service/v1/users/\"+pm.environment.get('userId')+\"/contacts\",",
									"        method: \"POST\",",
									"        header: {",
									"            'Authorization': \"Bearer \"+res.json().access_token,",
									"            'Content-Type': 'application/json'",
									"        },",
									"        body: {",
									"            mode: 'jow',",
									"            raw: JSON.stringify({",
									"                        \"firstName\": \"Stéphane\",",
									"                        \"lastName\": \"Maldini\",",
									"                        \"email\": \"stéphane@email.com\",",
									"                        \"relationship\": \"coleague\"",
									"                    })",
									"        },",
									"        request: {",
									"            \"href\": \"http://some-other-host-for-dexter.com\",",
									"            \"description\": \"A description for dexter's link\",",
									"            \"label\": \"dexterLabel\"",
									"        }",
									"    });",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{server.protocol}}://{{server.host}}:9025/passport-service/v1/users/{{userId}}/passport",
							"protocol": "{{server.protocol}}",
							"host": [
								"{{server.host}}"
							],
							"port": "9025",
							"path": [
								"passport-service",
								"v1",
								"users",
								"{{userId}}",
								"passport"
							]
						}
					},
					"response": []
				}
			],
			"description": "pm.environment.set(\"userId\",\"dexter\");\n\npm.sendRequest({\n    url: \"https://localhost:9999/sso/oauth/token?password=spring&username=jlong&grant_type=password&scope=openid&client_secret=acmesecret&client_id=acme\",\n    method: \"POST\",\n    header: {\n        'Authorization': \"Basic YWNtZTphY21lc2VjcmV0\"\n    },\n    request: {\n        \"href\": \"http://some-other-host-for-dexter.com\",\n        \"description\": \"A description for dexter's link\",\n        \"label\": \"dexterLabel\"\n    }\n}, function (err, res){\n    pm.environment.set('access_token',res.json().access_token)\n});\n",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "63dbf440-dce5-4950-bb79-07e58d49bb58",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "a9ff5556-3f0c-4645-9f6e-623d401a3996",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "853376ac-6920-4e8d-be74-05e03f2723d2",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "bb71bd16-5ea6-47a9-93d2-fea7949d3fd9",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"protocolProfileBehavior": {}
}