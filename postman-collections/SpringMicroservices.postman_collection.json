{
	"info": {
		"_postman_id": "c5d4f743-ff5b-465f-b095-0a89519a678f",
		"name": "SpringMicroservices",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Auth Service",
			"item": [
				{
					"name": "OauthCert",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "71859481-5bb9-40f0-8383-58a8a8451762",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Your test name\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.access_token).to.be.a('string');",
									"});",
									"",
									"pm.test(\"Your test name\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.token_type).to.eql('bearer');",
									"});",
									"",
									"pm.test(\"Your test name\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.refresh_token).to.be.a('string');",
									"});",
									"",
									"pm.test(\"Your test name\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.scope).to.eql('read write');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "acmesecret",
									"type": "string"
								},
								{
									"key": "username",
									"value": "acme",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{server.protocol}}://{{server.host}}:9999/sso/oauth/token?password={{password}}&username={{user}}&grant_type=password&scope=read write&client_secret=acmesecret&client_id=acme",
							"protocol": "{{server.protocol}}",
							"host": [
								"{{server.host}}"
							],
							"port": "9999",
							"path": [
								"sso",
								"oauth",
								"token"
							],
							"query": [
								{
									"key": "password",
									"value": "{{password}}"
								},
								{
									"key": "username",
									"value": "{{user}}"
								},
								{
									"key": "grant_type",
									"value": "password"
								},
								{
									"key": "scope",
									"value": "read write"
								},
								{
									"key": "client_secret",
									"value": "acmesecret"
								},
								{
									"key": "client_id",
									"value": "acme"
								}
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Bookmark Service",
			"item": [
				{
					"name": "PostBookmark",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "73714161-bc48-42c8-be59-c7149e2b6911",
								"exec": [
									"postman.setNextRequest('GetBookmark')",
									"",
									"if (pm.response.code==200){",
									"    var jsonData = pm.response.json();",
									"    postman.setEnvironmentVariable('bookmarkId',jsonData.id);",
									"}",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"description is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.description).is.a('string');",
									"});",
									"",
									"pm.test(\"href is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.href).is.a('string');",
									"});",
									"",
									"pm.test(\"label is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.label).is.a('string');",
									"});",
									"",
									"pm.test(\"id is a Number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.id).is.a('Number');",
									"});",
									"",
									"pm.test(\"userId is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.userId).is.a('string');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"href\": \"http://some-other-host-for-dexter.com\",\r\n    \"description\": \"A description for dexter's link\",\r\n    \"label\": \"dexterLabel\"\r\n}"
						},
						"url": {
							"raw": "{{server.protocol}}://{{server.host}}:9025/bookmark-service/v1/users/{{userId}}/bookmarks",
							"protocol": "{{server.protocol}}",
							"host": [
								"{{server.host}}"
							],
							"port": "9025",
							"path": [
								"bookmark-service",
								"v1",
								"users",
								"{{userId}}",
								"bookmarks"
							]
						}
					},
					"response": []
				},
				{
					"name": "GetBookmark",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c5a3ecee-0ff3-45dd-87fd-c07b5a4c0bb1",
								"exec": [
									"postman.setNextRequest('PutBookmark')",
									"",
									"if (pm.response.code==200){",
									"    var jsonData = pm.response.json();",
									"    postman.setEnvironmentVariable('bookmarkId',jsonData.id);",
									"}",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"href is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.href).is.a('string');",
									"});",
									"",
									"pm.test(\"description is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.description).is.a('string');",
									"});",
									"",
									"pm.test(\"label is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.label).is.a('string');",
									"});",
									"",
									"pm.test(\"id is a Number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.id).is.a('Number');",
									"});",
									"",
									"pm.test(\"userId is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.userId).is.a('string');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{server.protocol}}://{{server.host}}:9025/bookmark-service/v1/users/{{userId}}/bookmarks/{{bookmarkId}}",
							"protocol": "{{server.protocol}}",
							"host": [
								"{{server.host}}"
							],
							"port": "9025",
							"path": [
								"bookmark-service",
								"v1",
								"users",
								"{{userId}}",
								"bookmarks",
								"{{bookmarkId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "PutBookmark",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "64b9c60e-9e8b-43f2-90fd-bfc5f978a331",
								"exec": [
									"postman.setNextRequest('GetBookmarks')",
									"",
									"if (pm.response.code==200){",
									"    var jsonData = pm.response.json();",
									"    postman.setEnvironmentVariable('bookmarkId',jsonData.id);",
									"}",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"href is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.href).is.a('string');",
									"});",
									"",
									"pm.test(\"description is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.description).is.a('string');",
									"});",
									"",
									"pm.test(\"label is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.label).is.a('string');",
									"});",
									"",
									"pm.test(\"id is a Number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.id).is.a('Number');",
									"});",
									"",
									"pm.test(\"userId is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.userId).is.a('string');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"href\": \"http://some-other-host-for-dexter2.com\",\r\n    \"description\": \"A description for dexter's link2\",\r\n    \"label\": \"dexterLabel2\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{server.protocol}}://{{server.host}}:9025/bookmark-service/v1/users/{{userId}}/bookmarks/{{bookmarkId}}",
							"protocol": "{{server.protocol}}",
							"host": [
								"{{server.host}}"
							],
							"port": "9025",
							"path": [
								"bookmark-service",
								"v1",
								"users",
								"{{userId}}",
								"bookmarks",
								"{{bookmarkId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "GetBookmarks",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ae11f886-44ba-431b-b586-fa480e48aae4",
								"exec": [
									"postman.setNextRequest('DelBookmark')",
									"",
									"if (pm.response.code==200){",
									"    var jsonData = pm.response.json();",
									"    postman.setEnvironmentVariable('bookmarkId',jsonData[0].id);",
									"}",
									"    ",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"href is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].href).is.a('string');",
									"});",
									"",
									"pm.test(\"description is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].description).is.a('string');",
									"});",
									"",
									"pm.test(\"label is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].label).is.a('string');",
									"});",
									"",
									"pm.test(\"id is a Number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].id).is.a('Number');",
									"});",
									"",
									"pm.test(\"userId is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].userId).is.a('string');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{server.protocol}}://{{server.host}}:9025/bookmark-service/v1/users/dexter/bookmarks",
							"protocol": "{{server.protocol}}",
							"host": [
								"{{server.host}}"
							],
							"port": "9025",
							"path": [
								"bookmark-service",
								"v1",
								"users",
								"dexter",
								"bookmarks"
							]
						}
					},
					"response": []
				},
				{
					"name": "DelBookmark",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "dee1d74d-42d9-40d3-ad26-e86489cc895b",
								"exec": [
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"href\": \"http://some-other-host-for-dexter.com\",\r\n    \"description\": \"A description for dexter's link\",\r\n    \"label\": \"dexterLabel\",\r\n}"
						},
						"url": {
							"raw": "{{server.protocol}}://{{server.host}}:9025/bookmark-service/v1/users/{{userId}}/bookmarks/{{bookmarkId}}",
							"protocol": "{{server.protocol}}",
							"host": [
								"{{server.host}}"
							],
							"port": "9025",
							"path": [
								"bookmark-service",
								"v1",
								"users",
								"{{userId}}",
								"bookmarks",
								"{{bookmarkId}}"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "fff29950-5e3b-423f-ad8c-9ba858e64721",
						"type": "text/javascript",
						"exec": [
							"pm.environment.set(\"userId\",\"dexter\");",
							"",
							"pm.sendRequest({",
							"    url: \"https://localhost:9999/sso/oauth/token?password=spring&username=jlong&grant_type=password&scope=openid read write&client_secret=acmesecret&client_id=acme\",",
							"    method: \"POST\",",
							"    header: {",
							"        'Authorization': \"Basic YWNtZTphY21lc2VjcmV0\"",
							"    },",
							"    request: {",
							"        \"href\": \"http://some-other-host-for-dexter.com\",",
							"        \"description\": \"A description for dexter's link\",",
							"        \"label\": \"dexterLabel\"",
							"    }",
							"}, function (err, res){",
							"    pm.environment.set('access_token',res.json().access_token)",
							"});",
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "5fe14ace-9ff5-461c-b305-0c8a431c0c92",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Contact Service",
			"item": [
				{
					"name": "PostContact",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ad7b7e2f-b83c-4d2d-8c66-7a438bdbe1ea",
								"exec": [
									"postman.setNextRequest('GetContact')",
									"",
									"if (pm.response.code==200){",
									"    var jsonData = pm.response.json();",
									"    postman.setEnvironmentVariable('bookmarkId',jsonData.id);",
									"}",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"firstName is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.firstName).is.a('string');",
									"});",
									"",
									"pm.test(\"lastName is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.lastName).is.a('string');",
									"});",
									"",
									"pm.test(\"email matches '.+@.+\\..+'\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.email).to.match(/^.+@.+\\..+$/);",
									"});",
									"",
									"pm.test(\"relationship is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.relationship).is.a('string');",
									"});",
									"",
									"pm.test(\"id is a Number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.id).is.a('Number');",
									"});",
									"",
									"pm.test(\"userId is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.userId).is.a('string');",
									"});",
									"",
									"pm.test(\"phoneNumbers.id is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.phoneNumbers[0].id).is.a('Number');",
									"    pm.expect(jsonData.phoneNumbers[1].id).is.a('Number');",
									"});",
									"",
									"pm.test(\"phoneNumbers.number is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.phoneNumbers[0].number).is.a('string');",
									"    pm.expect(jsonData.phoneNumbers[1].number).is.a('string');",
									"});",
									"",
									"pm.test(\"phoneNumbers.description is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.phoneNumbers[0].description).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.id is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].id).is.a('Number');",
									"    pm.expect(jsonData.addresses[1].id).is.a('Number');",
									"});",
									"",
									"pm.test(\"addresses.country is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].country).is.a('string');",
									"    pm.expect(jsonData.addresses[1].country).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.town is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].town).is.a('string');",
									"    pm.expect(jsonData.addresses[1].town).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.street is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].street).is.a('string');",
									"    pm.expect(jsonData.addresses[1].street).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.number is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].number).is.a('Number');",
									"    pm.expect(jsonData.addresses[1].number).is.a('Number');",
									"});",
									"",
									"pm.test(\"addresses.entrance is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].entrance).is.a('Number');",
									"});",
									"",
									"pm.test(\"addresses.flatNumber is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].flatNumber).is.a('Number');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"firstName\": \"Stéphane\",\n    \"lastName\": \"Maldini\",\n    \"email\": \"stéphane@email.com\",\n    \"relationship\": \"coleague\",\n\t\"phoneNumbers\": [\n\t\t{\n\t\t  \"number\": \"+40723123456\",\n\t\t  \"description\": \"phone number description Stéphane Maldini\"\n\t\t},\n\t\t{\n\t\t  \"number\": \"+40723123457\",\n\t\t  \"description\": null\n\t\t}\n\t],\n\t\"addresses\": [\n\t\t{\n\t\t\t\"id\": 32,\n\t\t\t\"country\": \"Stéphane country\",\n\t\t\t\"town\": \"Stéphane address\",\n\t\t\t\"street\": \"Stéphane street\",\n\t\t\t\"number\": 84,\n\t\t\t\"entrance\": 3,\n\t\t\t\"flatNumber\": 123\n\t\t},\n\t\t{\n\t\t\t\"id\": 33,\n\t\t\t\"country\": \"Stéphane country2\",\n\t\t\t\"town\": \"Stéphane address2\",\n\t\t\t\"street\": \"Stéphane street2\",\n\t\t\t\"number\": 94,\n\t\t\t\"entrance\": null,\n\t\t\t\"flatNumber\": null\n\t\t}\n\t]\n}"
						},
						"url": {
							"raw": "{{server.protocol}}://{{server.host}}:9025/contact-service/v1/users/{{userId}}/contacts",
							"protocol": "{{server.protocol}}",
							"host": [
								"{{server.host}}"
							],
							"port": "9025",
							"path": [
								"contact-service",
								"v1",
								"users",
								"{{userId}}",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "GetContact",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ea960a41-4f5d-4a7c-b867-8e5b870b868b",
								"exec": [
									"postman.setNextRequest('PutContact')",
									"",
									"if (pm.response.code==200){",
									"    var jsonData = pm.response.json();",
									"    postman.setEnvironmentVariable('bookmarkId',jsonData.id);",
									"}",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"firstName is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.firstName).is.a('string');",
									"});",
									"",
									"pm.test(\"lastName is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.lastName).is.a('string');",
									"});",
									"",
									"pm.test(\"email matches '.+@.+\\..+'\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.email).to.match(/^.+@.+\\..+$/);",
									"});",
									"",
									"pm.test(\"relationship is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.relationship).is.a('string');",
									"});",
									"",
									"pm.test(\"id is a Number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.id).is.a('Number');",
									"});",
									"",
									"pm.test(\"userId is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.userId).is.a('string');",
									"});",
									"",
									"pm.test(\"phoneNumbers.id is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.phoneNumbers[0].id).is.a('Number');",
									"    pm.expect(jsonData.phoneNumbers[1].id).is.a('Number');",
									"});",
									"",
									"pm.test(\"phoneNumbers.number is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.phoneNumbers[0].number).is.a('string');",
									"    pm.expect(jsonData.phoneNumbers[1].number).is.a('string');",
									"});",
									"",
									"pm.test(\"phoneNumbers.description is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.phoneNumbers[0].description).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.id is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].id).is.a('Number');",
									"    pm.expect(jsonData.addresses[1].id).is.a('Number');",
									"});",
									"",
									"pm.test(\"addresses.country is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].country).is.a('string');",
									"    pm.expect(jsonData.addresses[1].country).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.town is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].town).is.a('string');",
									"    pm.expect(jsonData.addresses[1].town).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.street is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].street).is.a('string');",
									"    pm.expect(jsonData.addresses[1].street).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.number is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].number).is.a('Number');",
									"    pm.expect(jsonData.addresses[1].number).is.a('Number');",
									"});",
									"",
									"pm.test(\"addresses.entrance is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].entrance).is.a('Number');",
									"});",
									"",
									"pm.test(\"addresses.flatNumber is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].flatNumber).is.a('Number');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{server.protocol}}://{{server.host}}:9025/contact-service/v1/users/{{userId}}/contacts/{{bookmarkId}}",
							"protocol": "{{server.protocol}}",
							"host": [
								"{{server.host}}"
							],
							"port": "9025",
							"path": [
								"contact-service",
								"v1",
								"users",
								"{{userId}}",
								"contacts",
								"{{bookmarkId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "PutContact",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "07d66bcb-2cab-4ace-8c47-a41cf6466c89",
								"exec": [
									"postman.setNextRequest('GetContacts')",
									"",
									"if (pm.response.code==200){",
									"    var jsonData = pm.response.json();",
									"    postman.setEnvironmentVariable('bookmarkId',jsonData.id);",
									"}",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"firstName is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.firstName).is.a('string');",
									"});",
									"",
									"pm.test(\"lastName is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.lastName).is.a('string');",
									"});",
									"",
									"pm.test(\"email matches '.+@.+\\..+'\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.email).to.match(/^.+@.+\\..+$/);",
									"});",
									"",
									"pm.test(\"relationship is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.relationship).is.a('string');",
									"});",
									"",
									"pm.test(\"id is a Number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.id).is.a('Number');",
									"});",
									"",
									"pm.test(\"userId is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.userId).is.a('string');",
									"});",
									"",
									"pm.test(\"phoneNumbers.id is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.phoneNumbers[0].id).is.a('Number');",
									"    pm.expect(jsonData.phoneNumbers[1].id).is.a('Number');",
									"});",
									"",
									"pm.test(\"phoneNumbers.number is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.phoneNumbers[0].number).is.a('string');",
									"    pm.expect(jsonData.phoneNumbers[1].number).is.a('string');",
									"});",
									"",
									"pm.test(\"phoneNumbers.description is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.phoneNumbers[0].description).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.id is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].id).is.a('Number');",
									"    pm.expect(jsonData.addresses[1].id).is.a('Number');",
									"});",
									"",
									"pm.test(\"addresses.country is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].country).is.a('string');",
									"    pm.expect(jsonData.addresses[1].country).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.town is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].town).is.a('string');",
									"    pm.expect(jsonData.addresses[1].town).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.street is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].street).is.a('string');",
									"    pm.expect(jsonData.addresses[1].street).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.number is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].number).is.a('Number');",
									"    pm.expect(jsonData.addresses[1].number).is.a('Number');",
									"});",
									"",
									"pm.test(\"addresses.entrance is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].entrance).is.a('Number');",
									"});",
									"",
									"pm.test(\"addresses.flatNumber is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.addresses[0].flatNumber).is.a('Number');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"firstName\": \"Stéphane2\",\r\n    \"lastName\": \"Maldini2\",\r\n    \"email\": \"stephane@email.com\",\r\n    \"relationship\": \"friend\",\r\n\t\"phoneNumbers\": [\r\n\t\t{\r\n\t\t  \"number\": \"+40723123456\",\r\n\t\t  \"description\": \"phone number description 2 Stéphane Maldini\"\r\n\t\t},\r\n\t\t{\r\n\t\t  \"number\": \"+40723123457\",\r\n\t\t  \"description\": null\r\n\t\t}\r\n\t],\r\n\t\"addresses\": [\r\n\t\t{\r\n\t\t\t\"id\": 32,\r\n\t\t\t\"country\": \"Stéphane country\",\r\n\t\t\t\"town\": \"Stéphane address\",\r\n\t\t\t\"street\": \"Stéphane street\",\r\n\t\t\t\"number\": 84,\r\n\t\t\t\"entrance\": 2,\r\n\t\t\t\"flatNumber\": 45\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"id\": 33,\r\n\t\t\t\"country\": \"Stéphane country2\",\r\n\t\t\t\"town\": \"Stéphane address2\",\r\n\t\t\t\"street\": \"Stéphane street2\",\r\n\t\t\t\"number\": 94,\r\n\t\t\t\"entrance\": null,\r\n\t\t\t\"flatNumber\": null\r\n\t\t}\r\n\t]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{server.protocol}}://{{server.host}}:9025/contact-service/v1/users/{{userId}}/contacts/{{bookmarkId}}",
							"protocol": "{{server.protocol}}",
							"host": [
								"{{server.host}}"
							],
							"port": "9025",
							"path": [
								"contact-service",
								"v1",
								"users",
								"{{userId}}",
								"contacts",
								"{{bookmarkId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "GetContacts",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "00875646-ff39-4c40-9b27-fae0e096ade3",
								"exec": [
									"postman.setNextRequest('DelContact')",
									"",
									"if (pm.response.code==200){",
									"    var jsonData = pm.response.json();",
									"    postman.setEnvironmentVariable('bookmarkId',jsonData[0].id);",
									"}",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"firstName is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].firstName).is.a('string');",
									"});",
									"",
									"pm.test(\"lastName is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].lastName).is.a('string');",
									"});",
									"",
									"pm.test(\"email matches '.+@.+\\..+'\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].email).to.match(/^.+@.+\\..+$/);",
									"});",
									"",
									"pm.test(\"relationship is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].relationship).is.a('string');",
									"});",
									"",
									"pm.test(\"id is a Number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].id).is.a('Number');",
									"});",
									"",
									"pm.test(\"userId is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].userId).is.a('string');",
									"});",
									"",
									"pm.test(\"phoneNumbers.id is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].phoneNumbers[0].id).is.a('Number');",
									"    pm.expect(jsonData[0].phoneNumbers[1].id).is.a('Number');",
									"});",
									"",
									"pm.test(\"phoneNumbers.number is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].phoneNumbers[0].number).is.a('string');",
									"    pm.expect(jsonData[0].phoneNumbers[1].number).is.a('string');",
									"});",
									"",
									"pm.test(\"phoneNumbers.description is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].phoneNumbers[0].description).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.id is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].addresses[0].id).is.a('Number');",
									"    pm.expect(jsonData[0].addresses[1].id).is.a('Number');",
									"});",
									"",
									"pm.test(\"addresses.country is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].addresses[0].country).is.a('string');",
									"    pm.expect(jsonData[0].addresses[1].country).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.town is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].addresses[0].town).is.a('string');",
									"    pm.expect(jsonData[0].addresses[1].town).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.street is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].addresses[0].street).is.a('string');",
									"    pm.expect(jsonData[0].addresses[1].street).is.a('string');",
									"});",
									"",
									"pm.test(\"addresses.number is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].addresses[0].number).is.a('Number');",
									"    pm.expect(jsonData[0].addresses[1].number).is.a('Number');",
									"});",
									"",
									"pm.test(\"addresses.entrance is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].addresses[0].entrance).is.a('Number');",
									"});",
									"",
									"pm.test(\"addresses.flatNumber is a number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].addresses[0].flatNumber).is.a('Number');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{server.protocol}}://{{server.host}}:9025/contact-service/v1/users/{{userId}}/contacts",
							"protocol": "{{server.protocol}}",
							"host": [
								"{{server.host}}"
							],
							"port": "9025",
							"path": [
								"contact-service",
								"v1",
								"users",
								"{{userId}}",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "DelContact",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "13ccb782-5539-4bd1-b3ad-da1857428b81",
								"exec": [
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"href\": \"http://some-other-host-for-dexter.com\",\r\n    \"description\": \"A description for dexter's link\",\r\n    \"label\": \"dexterLabel\",\r\n}"
						},
						"url": {
							"raw": "{{server.protocol}}://{{server.host}}:9025/contact-service/v1/users/{{userId}}/contacts/{{bookmarkId}}",
							"protocol": "{{server.protocol}}",
							"host": [
								"{{server.host}}"
							],
							"port": "9025",
							"path": [
								"contact-service",
								"v1",
								"users",
								"{{userId}}",
								"contacts",
								"{{bookmarkId}}"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "c21d4b61-0964-4ffb-8925-d7596a35e54f",
						"type": "text/javascript",
						"exec": [
							"pm.environment.set(\"userId\",\"dexter\");",
							"",
							"pm.sendRequest({",
							"    url: \"https://localhost:9999/sso/oauth/token?password=spring&username=jlong&grant_type=password&scope=openid read write&client_secret=acmesecret&client_id=acme\",",
							"    method: \"POST\",",
							"    header: {",
							"        'Authorization': \"Basic YWNtZTphY21lc2VjcmV0\"",
							"    },",
							"    request: {",
							"        \"href\": \"http://some-other-host-for-dexter.com\",",
							"        \"description\": \"A description for dexter's link\",",
							"        \"label\": \"dexterLabel\"",
							"    }",
							"}, function (err, res){",
							"    pm.environment.set('access_token',res.json().access_token)",
							"});",
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "c04d7a44-a273-44f8-a5bd-6efda7b445b0",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Passport Service",
			"item": [
				{
					"name": "GetPassports",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "939f6ff7-5d62-490f-a499-58009d53c234",
								"exec": [
									"if (pm.response.code==200){",
									"    var jsonData = pm.response.json();",
									"    postman.setEnvironmentVariable('bookmarkId',jsonData.id);",
									"    postman.setEnvironmentVariable('userId','dexter');",
									"}",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"href is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.bookmarks[0].href).is.a('string');",
									"});",
									"",
									"pm.test(\"label is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.bookmarks[0].label).is.a('string');",
									"});",
									"",
									"pm.test(\"id is a Number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.bookmarks[0].id).is.a('Number');",
									"});",
									"",
									"pm.test(\"userId is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.bookmarks[0].userId).is.a('string');",
									"});",
									"",
									"pm.test(\"firstName is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.contacts[0].firstName).is.a('string');",
									"});",
									"",
									"pm.test(\"lastName is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.contacts[0].lastName).is.a('string');",
									"});",
									"",
									"pm.test(\"email matches '.+@.+\\..+'\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.contacts[0].email).to.match(/^.+@.+\\..+$/);",
									"});",
									"",
									"pm.test(\"relationship is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.contacts[0].relationship).is.a('string');",
									"});",
									"",
									"pm.test(\"id is a Number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.contacts[0].id).is.a('Number');",
									"});",
									"",
									"pm.test(\"userId is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.contacts[0].userId).is.a('string');",
									"});",
									"",
									"",
									"if (pm.response.code==200){",
									"    var jsonData = pm.response.json();",
									"",
									"    pm.sendRequest({",
									"        url: \"https://localhost:9999/sso/oauth/token?password=spring&username=jlong&grant_type=password&scope=openid read write&client_secret=acmesecret&client_id=acme\",",
									"        method: \"POST\",",
									"        header: {",
									"            'Authorization': \"Basic YWNtZTphY21lc2VjcmV0\"",
									"        },",
									"        request: {",
									"            \"href\": \"http://some-other-host-for-dexter.com\",",
									"            \"description\": \"A description for dexter's link\",",
									"            \"label\": \"dexterLabel\"",
									"        }",
									"    }, function (err, res){",
									"        jsonData.bookmarks.forEach(function (value){",
									"            pm.sendRequest({",
									"                url: \"https://localhost:9025/bookmark-service/v1/users/\"+pm.environment.get('userId')+\"/bookmarks/\"+value.id,",
									"                method: \"DELETE\",",
									"                header: {",
									"                    'Authorization': \"Bearer \"+res.json().access_token,",
									"                    'Content-Type': 'application/json'",
									"                },",
									"                request: {",
									"                    \"href\": \"http://some-other-host-for-dexter.com\",",
									"                    \"description\": \"A description for dexter's link\",",
									"                    \"label\": \"dexterLabel\"",
									"                }",
									"            });",
									"        });",
									"        jsonData.contacts.forEach(function (value){",
									"            pm.sendRequest({",
									"                url: \"https://localhost:9025/contact-service/v1/users/\"+pm.environment.get('userId')+\"/contacts/\"+value.id,",
									"                method: \"DELETE\",",
									"                header: {",
									"                    'Authorization': \"Bearer \"+res.json().access_token,",
									"                    'Content-Type': 'application/json',",
									"                },",
									"                request: {",
									"                    \"href\": \"http://some-other-host-for-dexter.com\",",
									"                    \"description\": \"A description for dexter's link\"",
									"                }",
									"            });",
									"        });",
									"    });",
									"}",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "aaf6df5f-5e3a-427d-b387-814a902a77de",
								"exec": [
									"pm.environment.set(\"userId\",\"dexter\");",
									"",
									"pm.sendRequest({",
									"    url: \"https://localhost:9999/sso/oauth/token?password=spring&username=jlong&grant_type=password&scope=openid read write&client_secret=acmesecret&client_id=acme\",",
									"    method: \"POST\",",
									"    header: {",
									"        'Authorization': \"Basic YWNtZTphY21lc2VjcmV0\"",
									"    },",
									"    request: {",
									"        \"href\": \"http://some-other-host-for-dexter.com\",",
									"        \"description\": \"A description for dexter's link\",",
									"        \"label\": \"dexterLabel\"",
									"    }",
									"}, function (err, res){",
									"    pm.sendRequest({",
									"        url: \"https://localhost:9025/bookmark-service/v1/users/\"+pm.environment.get('userId')+\"/bookmarks\",",
									"        method: \"POST\",",
									"        header: {",
									"            'Authorization': \"Bearer \"+res.json().access_token,",
									"            'Content-Type': 'application/json'",
									"        },",
									"        body: {",
									"            mode: 'jow',",
									"            raw: JSON.stringify({",
									"                        \"href\": \"http://some-other-host-for-dexter.com\",",
									"                        \"description\": \"A description for dexter's link\",",
									"                        \"label\": \"dexterLabel\",",
									"                        \"id\": 34,",
									"                        \"userId\": \"dexter\"",
									"                    })",
									"        },",
									"        request: {",
									"            \"href\": \"http://some-other-host-for-dexter.com\",",
									"            \"description\": \"A description for dexter's link\",",
									"            \"label\": \"dexterLabel\"",
									"        }",
									"    });",
									"    pm.sendRequest({",
									"        url: \"https://localhost:9025/contact-service/v1/users/\"+pm.environment.get('userId')+\"/contacts\",",
									"        method: \"POST\",",
									"        header: {",
									"            'Authorization': \"Bearer \"+res.json().access_token,",
									"            'Content-Type': 'application/json'",
									"        },",
									"        body: {",
									"            mode: 'jow',",
									"            raw: JSON.stringify({",
									"                        \"firstName\": \"Stéphane\",",
									"                        \"lastName\": \"Maldini\",",
									"                        \"email\": \"stéphane@email.com\",",
									"                        \"relationship\": \"coleague\"",
									"                    })",
									"        },",
									"        request: {",
									"            \"href\": \"http://some-other-host-for-dexter.com\",",
									"            \"description\": \"A description for dexter's link\",",
									"            \"label\": \"dexterLabel\"",
									"        }",
									"    });",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{server.protocol}}://{{server.host}}:9025/passport-service/v1/users/{{userId}}/passport",
							"protocol": "{{server.protocol}}",
							"host": [
								"{{server.host}}"
							],
							"port": "9025",
							"path": [
								"passport-service",
								"v1",
								"users",
								"{{userId}}",
								"passport"
							]
						}
					},
					"response": []
				},
				{
					"name": "AsynchronousGetPassports",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "3f6a81f0-617d-4b9a-a262-678ba1eb3f23",
								"exec": [
									"if (pm.response.code==200){",
									"    var jsonData = pm.response.json();",
									"    postman.setEnvironmentVariable('bookmarkId',jsonData.id);",
									"    postman.setEnvironmentVariable('userId','dexter');",
									"}",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"href is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.bookmarks[0].href).is.a('string');",
									"});",
									"",
									"pm.test(\"label is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.bookmarks[0].label).is.a('string');",
									"});",
									"",
									"pm.test(\"id is a Number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.bookmarks[0].id).is.a('Number');",
									"});",
									"",
									"pm.test(\"userId is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.bookmarks[0].userId).is.a('string');",
									"});",
									"",
									"pm.test(\"firstName is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.contacts[0].firstName).is.a('string');",
									"});",
									"",
									"pm.test(\"lastName is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.contacts[0].lastName).is.a('string');",
									"});",
									"",
									"pm.test(\"email matches '.+@.+\\..+'\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.contacts[0].email).to.match(/^.+@.+\\..+$/);",
									"});",
									"",
									"pm.test(\"relationship is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.contacts[0].relationship).is.a('string');",
									"});",
									"",
									"pm.test(\"id is a Number\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.contacts[0].id).is.a('Number');",
									"});",
									"",
									"pm.test(\"userId is a string\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.contacts[0].userId).is.a('string');",
									"});",
									"",
									"",
									"if (pm.response.code==200){",
									"    var jsonData = pm.response.json();",
									"",
									"    pm.sendRequest({",
									"        url: \"https://localhost:9999/sso/oauth/token?password=spring&username=jlong&grant_type=password&scope=openid read write&client_secret=acmesecret&client_id=acme\",",
									"        method: \"POST\",",
									"        header: {",
									"            'Authorization': \"Basic YWNtZTphY21lc2VjcmV0\"",
									"        },",
									"        request: {",
									"            \"href\": \"http://some-other-host-for-dexter.com\",",
									"            \"description\": \"A description for dexter's link\",",
									"            \"label\": \"dexterLabel\"",
									"        }",
									"    }, function (err, res){",
									"        jsonData.bookmarks.forEach(function (value){",
									"            pm.sendRequest({",
									"                url: \"https://localhost:9025/bookmark-service/v1/users/\"+pm.environment.get('userId')+\"/bookmarks/\"+value.id,",
									"                method: \"DELETE\",",
									"                header: {",
									"                    'Authorization': \"Bearer \"+res.json().access_token,",
									"                    'Content-Type': 'application/json'",
									"                },",
									"                request: {",
									"                    \"href\": \"http://some-other-host-for-dexter.com\",",
									"                    \"description\": \"A description for dexter's link\",",
									"                    \"label\": \"dexterLabel\"",
									"                }",
									"            });",
									"        });",
									"        jsonData.contacts.forEach(function (value){",
									"            pm.sendRequest({",
									"                url: \"https://localhost:9025/contact-service/v1/users/\"+pm.environment.get('userId')+\"/contacts/\"+value.id,",
									"                method: \"DELETE\",",
									"                header: {",
									"                    'Authorization': \"Bearer \"+res.json().access_token,",
									"                    'Content-Type': 'application/json',",
									"                },",
									"                request: {",
									"                    \"href\": \"http://some-other-host-for-dexter.com\",",
									"                    \"description\": \"A description for dexter's link\"",
									"                }",
									"            });",
									"        });",
									"    });",
									"}",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "3e2b45d8-1442-4214-b23c-29111322d8d8",
								"exec": [
									"pm.environment.set(\"userId\",\"dexter\");",
									"",
									"pm.sendRequest({",
									"    url: \"https://localhost:9999/sso/oauth/token?password=spring&username=jlong&grant_type=password&scope=openid read write&client_secret=acmesecret&client_id=acme\",",
									"    method: \"POST\",",
									"    header: {",
									"        'Authorization': \"Basic YWNtZTphY21lc2VjcmV0\"",
									"    },",
									"    request: {",
									"        \"href\": \"http://some-other-host-for-dexter.com\",",
									"        \"description\": \"A description for dexter's link\",",
									"        \"label\": \"dexterLabel\"",
									"    }",
									"}, function (err, res){",
									"    pm.sendRequest({",
									"        url: \"https://localhost:9025/bookmark-service/v1/users/\"+pm.environment.get('userId')+\"/bookmarks\",",
									"        method: \"POST\",",
									"        header: {",
									"            'Authorization': \"Bearer \"+res.json().access_token,",
									"            'Content-Type': 'application/json'",
									"        },",
									"        body: {",
									"            mode: 'jow',",
									"            raw: JSON.stringify({",
									"                        \"href\": \"http://some-other-host-for-dexter.com\",",
									"                        \"description\": \"A description for dexter's link\",",
									"                        \"label\": \"dexterLabel\",",
									"                        \"id\": 34,",
									"                        \"userId\": \"dexter\"",
									"                    })",
									"        },",
									"        request: {",
									"            \"href\": \"http://some-other-host-for-dexter.com\",",
									"            \"description\": \"A description for dexter's link\",",
									"            \"label\": \"dexterLabel\"",
									"        }",
									"    });",
									"    pm.sendRequest({",
									"        url: \"https://localhost:9025/contact-service/v1/users/\"+pm.environment.get('userId')+\"/contacts\",",
									"        method: \"POST\",",
									"        header: {",
									"            'Authorization': \"Bearer \"+res.json().access_token,",
									"            'Content-Type': 'application/json'",
									"        },",
									"        body: {",
									"            mode: 'jow',",
									"            raw: JSON.stringify({",
									"                        \"firstName\": \"Stéphane\",",
									"                        \"lastName\": \"Maldini\",",
									"                        \"email\": \"stéphane@email.com\",",
									"                        \"relationship\": \"coleague\"",
									"                    })",
									"        },",
									"        request: {",
									"            \"href\": \"http://some-other-host-for-dexter.com\",",
									"            \"description\": \"A description for dexter's link\",",
									"            \"label\": \"dexterLabel\"",
									"        }",
									"    });",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{server.protocol}}://{{server.host}}:9025/passport-service/v1/async/users/{{userId}}/passport",
							"protocol": "{{server.protocol}}",
							"host": [
								"{{server.host}}"
							],
							"port": "9025",
							"path": [
								"passport-service",
								"v1",
								"async",
								"users",
								"{{userId}}",
								"passport"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "ca949901-07e1-4bd3-bbbd-8d35caeeaa65",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "45903fea-f955-4591-815d-33cb47bca67f",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "c5b88de1-d840-4f50-8006-5c7f31972242",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "9bf4988f-a0f2-44a2-9911-d8cc21ec3ed4",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"protocolProfileBehavior": {}
}